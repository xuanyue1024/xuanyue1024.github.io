---
title: 498回文日期解题思路及代码
tags:
  - 算法
  - 蓝桥杯
author: 竹林听雨
published: 'true'
categories:
  - 编程
  - 算法
date: 2023-11-08 16:43:37
updated: 2025-10-21 19:12:23
---

#### 题目

2020 年春节期间，有一个特殊的日期引起了大家的注意：2020 年 2 月 2 日。因为如果将这个日期按 “yyyymmdd” 的格式写成一个 8 位数是 20200202，恰好是一个[回文数](https://so.csdn.net/so/search?q=%E5%9B%9E%E6%96%87%E6%95%B0&spm=1001.2101.3001.7020)。我们称这样的日期是回文日期。

有人表示 20200202 是 “千年一遇” 的特殊日子。对此小明很不认同，因为不到 2 年之后就是下一个[回文日期](https://so.csdn.net/so/search?q=%E5%9B%9E%E6%96%87%E6%97%A5%E6%9C%9F&spm=1001.2101.3001.7020)：20211202 即 2021 年 12 月 2 日。

也有人表示 20200202 并不仅仅是一个回文日期，还是一个 ABABBABA 型的回文日期。对此小明也不认同，因为大约 100 年后就能遇到下一个 ABABBABA 型的回文日期：21211212 即 2121 年 12 月 12 日。算不上 “千年一遇”，顶多算 “千年两遇”。

给定一个 8 位数的日期，请你计算该日期之后下一个回文日期和下一个 ABABBABA 型的回文日期各是哪一天。

#### 解题

##### 思路

利用LocalDate完成，不断让时间加1，同时用将其转成字符串后放入StringBuilder中并反转，比较反转前后的值是否一致
题目要求判断两个时间，定义while循环，当且仅当两个判断都完成后结束循环，输出结果

##### 代码

```java
import java.time.LocalDate;
import java.time.format.DateTimeFormatter;
import java.util.Scanner;
public class Main {
    public static void main(String[] args) {
        Scanner sc = new Scanner(System.in);
        //输入一个时间，20200202
        String time = sc.next();
        //定义时间格式
        DateTimeFormatter dtf1=DateTimeFormatter.ofPattern("yyyyMMdd");
        //把字符串时间放入LocalDate中
        LocalDate l = LocalDate.parse(time,dtf1);
        //定义转化为字符串的时间对象和初始化反转后的字符串
        String lStr,sbStr = null;
        //定义两个判断，fa1完成普通回文后修改为true，fa2完成ABABBABA形式后修改为true，当且仅当两个都为true时结束循环
        boolean fa1 = false,fa2 = false;
        while (true){
            //天数+1
            l = l.plusDays(1);
            //将时间转化为指定格式的字符串
            lStr = l.format(dtf1);
            //普通回文
            if (!fa1) {
                //将字符串形时间放入StringBuilder中反转并转化为字符串
                sbStr = new StringBuilder(lStr).reverse().toString();
                if (lStr.equals(sbStr)) fa1 = true;
            }
            //ABABBABA形式
            if (!fa2) {
                //截取年份前两个和后两个，判断是否相同（ABAB)
                String a1 = lStr.substring(0, 2);
                String a2 = lStr.substring(2, 4);
                if (a1.equals(a2)) {
                    //截取年份和月日两部分，并判断年份反转后和月日是否一致（ABABBABA）
                    String a12 = lStr.substring(0, 4);
                    String a34 = lStr.substring(4, 8);
                    if (new StringBuilder(a12).reverse().toString().equals(a34)) fa2 = true;
                }
            }
            //两个判断都完成结束循环
            if (fa1&&fa2) break;
        }
        System.out.println(sbStr + "\n" + l.format(dtf1));
    }
}
```

